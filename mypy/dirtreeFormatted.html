<html>
<head>
<title>dirTree.py</title>
<style type="text/css"><!--

.syntax-NULL {
  color: #dcf4f4;
}
.syntax-COMMENT1 {
  color: #00cc33;
}
.syntax-COMMENT2 {
  color: #99ff99;
}
.syntax-COMMENT3 {
  color: #cc3300;
}
.syntax-COMMENT4 {
  color: #cc6600;
}
.syntax-DIGIT {
  color: #009191;
}
.syntax-FUNCTION {
  color: #e54d1a;
}
.syntax-INVALID {
  background: #ffffcc;
  color: #ff0066;
}
.syntax-KEYWORD1 {
  color: #00ffff;
}
.syntax-KEYWORD2 {
  color: #00cc99;
}
.syntax-KEYWORD3 {
  color: #ff9933;
}
.syntax-KEYWORD4 {
  color: #66ccff;
  font-weight: bold;
}
.syntax-LABEL {
  color: #ccccff;
  font-style: italic;
}
.syntax-LITERAL1 {
  color: #ffff00;
}
.syntax-LITERAL2 {
  color: #ff3399;
}
.syntax-LITERAL3 {
  color: #9900cc;
}
.syntax-LITERAL4 {
  color: #6600cc;
}
.syntax-MARKUP {
  color: #00aae2;
}
.syntax-OPERATOR {
  color: #ff9999;
}

.gutter {
  background: #cc3300;
  color: #ffffcc;
  border-right: 2px solid black ;
  margin-right: 5px ;
}
.gutterH {
  background: #cc3300;
  color: #006666;
  border-right: 2px solid black ; 
  margin-right: 5px ;
}

--></style>
</head>
<body bgcolor="#666">
<pre><span class="syntax0"><span class="gutter">   1 </span>
<span class="gutter">   2 </span><span class="syntax-COMMENT1">#</span><span class="syntax-COMMENT1">this</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">script</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">will</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">mount</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">remote</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">file</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">system</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">using</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">fuse</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">then</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">generate</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span>
<span class="gutter">   3 </span><span class="syntax-COMMENT1">#</span><span class="syntax-COMMENT1">directory</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">tree</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">using</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">os.walk</span>
<span class="gutter">   4 </span><span class="syntax-KEYWORD1">import</span> pw
<span class="gutterH">   5 </span><span class="syntax-KEYWORD1">import</span> os
<span class="gutter">   6 </span>
<span class="gutter">   7 </span>host<span class="syntax-OPERATOR">=</span>pw.hn
<span class="gutter">   8 </span>username<span class="syntax-OPERATOR">=</span>pw.un
<span class="gutter">   9 </span><span class="syntax-COMMENT1">#</span><span class="syntax-COMMENT1">folder=pw.fo</span>
<span class="gutterH">  10 </span>remote_folder<span class="syntax-OPERATOR">=</span>pw.rf
<span class="gutter">  11 </span>local_folder<span class="syntax-OPERATOR">=</span>pw.lf
<span class="gutter">  12 </span>output<span class="syntax-OPERATOR">=</span>pw.fi
<span class="gutter">  13 </span>
<span class="gutter">  14 </span>
<span class="gutterH">  15 </span>connectionString<span class="syntax-OPERATOR">=</span><span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1">sshfs</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'</span><span class="syntax-OPERATOR">+</span>username<span class="syntax-OPERATOR">+</span><span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1">@</span><span class="syntax-LITERAL1">'</span><span class="syntax-OPERATOR">+</span>host<span class="syntax-OPERATOR">+</span><span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1">'</span><span class="syntax-OPERATOR">+</span>remote_folder<span class="syntax-OPERATOR">+</span><span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'</span><span class="syntax-OPERATOR">+</span>local_folder
<span class="gutter">  16 </span>
<span class="gutter">  17 </span><span class="syntax-COMMENT1">#</span><span class="syntax-COMMENT1">os.system(connectionString)</span>
<span class="gutter">  18 </span>
<span class="gutter">  19 </span>
<span class="gutterH">  20 </span><span class="syntax-KEYWORD1">def</span> <span class="syntax-FUNCTION">list_files</span><span class="syntax-OPERATOR">(</span>startpath<span class="syntax-OPERATOR">)</span><span class="syntax-KEYWORD1">:</span>
<span class="gutter">  21 </span>    os.<span class="syntax-FUNCTION">system</span><span class="syntax-OPERATOR">(</span>connectionString<span class="syntax-OPERATOR">)</span>
<span class="gutter">  22 </span>    k<span class="syntax-OPERATOR">=</span><span class="syntax-KEYWORD2">open</span><span class="syntax-OPERATOR">(</span>output, <span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1">w</span><span class="syntax-LITERAL1">'</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">  23 </span>    <span class="syntax-KEYWORD1">for</span> root, dirs, files <span class="syntax-KEYWORD1">in</span> os.<span class="syntax-FUNCTION">walk</span><span class="syntax-OPERATOR">(</span>startpath<span class="syntax-OPERATOR">)</span><span class="syntax-KEYWORD1">:</span>
<span class="gutter">  24 </span>        level <span class="syntax-OPERATOR">=</span> root.<span class="syntax-FUNCTION">replace</span><span class="syntax-OPERATOR">(</span>startpath, <span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1">'</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">count</span><span class="syntax-OPERATOR">(</span>os.sep<span class="syntax-OPERATOR">)</span>
<span class="gutterH">  25 </span>        indent <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'</span> <span class="syntax-OPERATOR">*</span> <span class="syntax-DIGIT">4</span> <span class="syntax-OPERATOR">*</span> <span class="syntax-OPERATOR">(</span>level<span class="syntax-OPERATOR">)</span>
<span class="gutter">  26 </span>        k.<span class="syntax-FUNCTION">write</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1">{</span><span class="syntax-LITERAL1">}</span><span class="syntax-LITERAL1">{</span><span class="syntax-LITERAL1">}</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">'</span>.<span class="syntax-FUNCTION">format</span><span class="syntax-OPERATOR">(</span>indent, os.path.<span class="syntax-FUNCTION">basename</span><span class="syntax-OPERATOR">(</span>root<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">+</span><span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1">\n</span><span class="syntax-LITERAL1">'</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">  27 </span>        <span class="syntax-COMMENT1">#</span><span class="syntax-COMMENT1">print('{}{}/'.format(indent,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">os.path.basename(root)))</span>
<span class="gutter">  28 </span>        subindent <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">'</span> <span class="syntax-OPERATOR">*</span> <span class="syntax-DIGIT">4</span> <span class="syntax-OPERATOR">*</span> <span class="syntax-OPERATOR">(</span>level <span class="syntax-OPERATOR">+</span> <span class="syntax-DIGIT">1</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">  29 </span>        <span class="syntax-KEYWORD1">for</span> f <span class="syntax-KEYWORD1">in</span> files<span class="syntax-KEYWORD1">:</span>
<span class="gutterH">  30 </span>            k.<span class="syntax-FUNCTION">write</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1">{</span><span class="syntax-LITERAL1">}</span><span class="syntax-LITERAL1">{</span><span class="syntax-LITERAL1">}</span><span class="syntax-LITERAL1">'</span>.<span class="syntax-FUNCTION">format</span><span class="syntax-OPERATOR">(</span>subindent, f<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">+</span><span class="syntax-LITERAL1">'</span><span class="syntax-LITERAL1">\n</span><span class="syntax-LITERAL1">'</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">  31 </span>            <span class="syntax-COMMENT1">#</span><span class="syntax-COMMENT1">print('{}{}'.format(subindent,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">f))</span>
<span class="gutter">  32 </span>    k.<span class="syntax-FUNCTION">close</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter">  33 </span>    
<span class="gutter">  34 </span><span class="syntax-KEYWORD1">print</span><span class="syntax-LITERAL2">&quot;&quot;&quot;</span><span class="syntax-LITERAL2"> </span><span class="syntax-LITERAL2">Suggested</span><span class="syntax-LITERAL2"> </span><span class="syntax-LITERAL2">use</span><span class="syntax-LITERAL2">:</span><span class="syntax-LITERAL2">\n\tdirTree</span><span class="syntax-LITERAL2">.</span><span class="syntax-LITERAL2">list_files</span><span class="syntax-LITERAL2">(</span><span class="syntax-LITERAL2">dirTree</span><span class="syntax-LITERAL2">.</span><span class="syntax-LITERAL2">local_folder</span><span class="syntax-LITERAL2">)</span><span class="syntax-LITERAL2"> </span><span class="syntax-LITERAL2">&quot;&quot;&quot;</span>
</span></pre>
</body>
</html>

